<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Yup, this is exactly what I meant!</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Yup, this is exactly what I meant!</h1>
</header>
<section data-field="subtitle" class="p-summary">
The b.bar() in your gist, since it’s at the top level, is essentially an import-time operation.
</section>
<section data-field="body" class="e-content">
<section name="acd9" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="d43e" id="d43e" class="graf graf--p graf--leading">Yup, this is exactly what I meant!</p><p name="98a8" id="98a8" class="graf graf--p graf-after--p">The <code class="markup--code markup--p-code">b.bar()</code> in your gist, since it’s at the top level, is essentially an import-time operation.</p><p name="6273" id="6273" class="graf graf--p graf-after--p">I would naively expect dependency injection in java to have no import-time operations, since it would be assigning some concrete class to fulfill some interface (i.e., deferring initialization until all such interfaces have their concrete equivalents determined *should* be possible, if the dependency injection is done using reflection instead of having the actual constructors request dependencies be fulfilled).</p><p name="1966" id="1966" class="graf graf--p graf-after--p">From your example, it doesn’t look like it’s done this way — it looks like you’re running some code to inject dependencies from the class that needs them, rather than having a static/class-level member that lists members, their abstract types, and an unbound variable of class Class for each, then having a separate dependency manager class handle injection before something is used (if necessary, called from the constructor of any class when those values aren’t filled in, filling them for the entire hierarchy).</p><p name="8fbd" id="8fbd" class="graf graf--p graf-after--p graf--trailing">I think, with clever use of partial deferral, the problem of cycles in runtime injection could probably be eliminated entirely (from a practical standpoint) just by ensuring that at no point does code that depends upon dependency injection run before the entire dependency hierarchy is fulfilled. (Of course, with a large existing codebase, converting all dependency injection to this form is tough — or even all dependency hierarchies beyond some problematic point! One might be motivated to make this change but not have the authority, as well.)</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@enkiv2" class="p-author h-card">John Ohno</a> on <a href="https://medium.com/p/48f16c7901a7"><time class="dt-published" datetime="2018-04-17T10:46:18.237Z">April 17, 2018</time></a>.</p><p><a href="https://medium.com/@enkiv2/yup-this-is-exactly-what-i-meant-48f16c7901a7" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on January 21, 2025.</p></footer></article></body></html>