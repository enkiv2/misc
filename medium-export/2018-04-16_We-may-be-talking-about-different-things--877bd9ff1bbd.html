<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>We may be talking about different things.</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">We may be talking about different things.</h1>
</header>
<section data-field="subtitle" class="p-summary">
If we can expect that `HeartbeatActor.class` is defined to be the same thing anywhere in the dependency hierarchy, though, then the…
</section>
<section data-field="body" class="e-content">
<section name="dcb5" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="4d96" id="4d96" class="graf graf--p graf--leading">We may be talking about different things.</p><p name="a2c0" id="a2c0" class="graf graf--p graf-after--p">If we can expect that `HeartbeatActor.class` is defined to be the same thing anywhere in the dependency hierarchy, though, then the criticism still stands — we have, somewhere, a pool of associations between abstract types and the concrete types we prefer to use for them, and if that pool of associations is readable when we are constructing part of it, then we can avoid looping dependencies just by checking it.</p><p name="b60a" id="b60a" class="graf graf--p graf-after--p">However, if we’re talking about a situation where a constructor *must* be called, and that constructor *may* inject a dependency (whose constructor likewise *must* be called), it’s not so easily avoidable.</p><p name="f30b" id="f30b" class="graf graf--p graf-after--p graf--trailing">(In the python example, module loading can happen anywhere in code &amp; even conditionally, so it’s a purely runtime concern. Simply making import idempotent by having it check the pool is sufficient to avoid dependency loops.)</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@enkiv2" class="p-author h-card">John Ohno</a> on <a href="https://medium.com/p/877bd9ff1bbd"><time class="dt-published" datetime="2018-04-16T11:47:50.073Z">April 16, 2018</time></a>.</p><p><a href="https://medium.com/@enkiv2/we-may-be-talking-about-different-things-877bd9ff1bbd" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 25, 2019.</p></footer></article></body></html>